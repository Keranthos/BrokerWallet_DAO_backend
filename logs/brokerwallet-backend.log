2025-09-25 08:21:59 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 23352 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 08:21:59 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 08:21:59 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 08:21:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 08:21:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 08:22:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 08:22:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 152 ms. Found 3 JPA repository interfaces.
2025-09-25 08:22:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 08:22:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 08:22:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 08:22:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 08:22:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3767 ms
2025-09-25 08:22:03 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 08:22:03 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 08:22:03 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 08:22:04 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 08:22:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 08:22:04 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13e27d87
2025-09-25 08:22:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 08:22:04 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 08:22:04 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 08:22:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 08:22:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 08:22:07 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 08:22:09 [restartedMain] ERROR c.b.config.BlockchainConfig - Failed to connect to BrokerChain client: Failed to connect to /127.0.0.1:23010
2025-09-25 08:22:09 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 08:22:09 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 08:22:09 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:22:09 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 08:22:09 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 08:22:09 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 08:22:09 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 08:22:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 08:22:10 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 08:22:10 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 08:22:10 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 08:22:10 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 08:22:10 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 08:22:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 08:22:11 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 13.03 seconds (process running for 14.519)
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:22:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:22:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:22:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:23:49 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 08:23:49 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3a7890fd
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@146a279
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 08:23:49 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/health", parameters={}
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.SystemController#healthCheck()
2025-09-25 08:23:49 [http-nio-5000-exec-1] INFO  c.b.controller.SystemController - 系统健康检查: 服务正常运行
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{api_endpoints={proof_list=/api/proof/list, nft_mint=/api/nft/mint, nft_upload=/api/nft/upload, proo (truncated)...]
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:23:52 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 08:23:52 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 08:23:52 [http-nio-5000-exec-2] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 08:23:52 [http-nio-5000-exec-2] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 08:23:53 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 08:23:53 [http-nio-5000-exec-2] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 08:23:53 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:23:53 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 08:23:53 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/medal/query", parameters={}
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/medal/query.]
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 08:23:56 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879.]
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 08:24:12 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 08:24:16 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:24:16 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:24:16 [http-nio-5000-exec-10] ERROR c.b.controller.BlockchainController - Failed to query medals: Failed to connect to /127.0.0.1:23010
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainService.queryUserMedals(BlockchainService.java:88)
	at com.brokerwallet.controller.BlockchainController.queryUserMedals(BlockchainController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserMedals(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 79 common frames omitted
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.brokerwallet.controller.BlockchainController$ErrorResponse@8a3028a]
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/test-contract", parameters={}
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#testContract()
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["合约连接失败: Failed to connect to /127.0.0.1:23010"]
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:27:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:27:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:27:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:32:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:32:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:32:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/test-contract", parameters={}
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#testContract()
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["合约连接失败: Failed to connect to /127.0.0.1:23010"]
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:37:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:37:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:37:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:42:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:42:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:42:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:47:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:47:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:47:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:50:38 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:50:56 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:52:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:52:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:52:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:52:54 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:54:40 [http-nio-5000-exec-7] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/health", parameters={}
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.SystemController#healthCheck()
2025-09-25 08:54:42 [http-nio-5000-exec-8] INFO  c.b.controller.SystemController - 系统健康检查: 服务正常运行
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{api_endpoints={proof_list=/api/proof/list, nft_mint=/api/nft/mint, nft_upload=/api/nft/upload, proo (truncated)...]
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/health", parameters={}
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.SystemController#healthCheck()
2025-09-25 08:54:45 [http-nio-5000-exec-9] INFO  c.b.controller.SystemController - 系统健康检查: 服务正常运行
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{api_endpoints={proof_list=/api/proof/list, nft_mint=/api/nft/mint, nft_upload=/api/nft/upload, proo (truncated)...]
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:56:24 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/admin/restore-user6-files", parameters={}
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#restoreUser6Files()
2025-09-25 08:57:04 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 尝试恢复用户6的证明文件
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.file_name=? 
    limit
        ?
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.file_name=? 
    limit
        ?
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        proof_files
        (audit_status, audit_time, file_hash, file_name, file_path, file_size, file_type, medal_award_time, medal_awarded, medal_transaction_hash, original_name, status, upload_time, user_account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-25 08:57:05 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 恢复文件记录: c8f2b013e12942428da9362d3b1c3b0d_1758189455863.jpg
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.file_name=? 
    limit
        ?
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        proof_files
        (audit_status, audit_time, file_hash, file_name, file_path, file_size, file_type, medal_award_time, medal_awarded, medal_transaction_hash, original_name, status, upload_time, user_account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-25 08:57:05 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 恢复文件记录: fee37200f25347649b7a46361e74b51b_1758201127547.jpg
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.file_name=? 
    limit
        ?
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        proof_files
        (audit_status, audit_time, file_hash, file_name, file_path, file_size, file_type, medal_award_time, medal_awarded, medal_transaction_hash, original_name, status, upload_time, user_account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-25 08:57:05 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 恢复文件记录: 783041a98a31457ca6fe279833a15312_1758182975497
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data={restoredFiles=3, userId=6}, success=true, message=恢复了 3 个文件记录}]
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:57:08 [http-nio-5000-exec-3] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:57:10 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:57:10 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:57:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:57:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:57:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:57:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:57:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:57:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:57:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:57:11 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:58:48 [http-nio-5000-exec-7] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:38 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:43 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:44 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:45 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:45 [http-nio-5000-exec-4] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:47 [http-nio-5000-exec-3] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:01:51 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:01:59 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:02:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:02:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:02:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:02:21 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:05:37 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:07:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:07:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:07:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:10:21 [http-nio-5000-exec-8] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:12:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:12:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:12:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/admin/delete-fake-submissions", parameters={}
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/admin/delete-fake-submissions.]
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 09:12:16 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:12:55 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/admin/delete-fake-submissions", parameters={}
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/admin/delete-fake-submissions.]
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 09:13:01 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/admin/delete-proof-files", parameters={}
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/admin/delete-proof-files.]
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 09:13:16 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:13:37 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:17:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:17:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:17:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:17:31 [http-nio-5000-exec-8] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:22:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:22:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:22:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:27:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:27:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:27:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:27:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:32:10 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:32:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:32:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:32:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:32:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:37:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:37:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:37:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:37:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:42:10 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:42:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:42:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:42:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:42:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:43:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 09:43:45 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 09:43:45 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:43:45 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 09:43:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:43:47 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:43:47 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:43:51 [http-nio-5000-exec-4] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:43:51 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:44:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 09:44:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 09:44:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 09:45:58 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 25596 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 09:45:58 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 09:45:58 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 09:45:58 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 09:45:58 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 09:45:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 09:46:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 3 JPA repository interfaces.
2025-09-25 09:46:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 09:46:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 09:46:01 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 09:46:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 09:46:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3711 ms
2025-09-25 09:46:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 09:46:02 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 09:46:02 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 09:46:03 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 09:46:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 09:46:03 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d642ced
2025-09-25 09:46:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 09:46:03 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 09:46:03 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 09:46:05 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 09:46:05 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 09:46:06 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 09:46:08 [restartedMain] ERROR c.b.config.BlockchainConfig - Failed to connect to BrokerChain client: Failed to connect to /127.0.0.1:23010
2025-09-25 09:46:08 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 09:46:08 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 09:46:08 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:46:08 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 09:46:08 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 09:46:08 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 09:46:08 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 09:46:08 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 09:46:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 09:46:09 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 09:46:09 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 09:46:09 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 09:46:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 09:46:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 09:46:09 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 12.364 seconds (process running for 13.651)
2025-09-25 09:46:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:46:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:46:09 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:46:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:46:09 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:46:09 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:46:10 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:46:10 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:46:10 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:51:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:51:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:51:09 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:51:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:51:09 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:51:09 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:51:09 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:51:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:51:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:53:33 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 09:53:33 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5de5f03a
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2061404f
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 09:53:33 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 09:53:33 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:53:33 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:53:33 [http-nio-5000-exec-1] ERROR c.b.controller.BlockchainController - Failed to query medals: Failed to connect to /127.0.0.1:23010
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainService.queryUserMedals(BlockchainService.java:88)
	at com.brokerwallet.controller.BlockchainController.queryUserMedals(BlockchainController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserMedals(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 79 common frames omitted
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.brokerwallet.controller.BlockchainController$ErrorResponse@2e3b314a]
2025-09-25 09:53:33 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-09-25 09:56:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:56:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:56:09 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:56:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:56:09 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:56:09 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:56:09 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:56:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:56:09 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:59:33 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 09:59:33 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 09:59:33 [http-nio-5000-exec-2] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:59:33 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:59:33 [http-nio-5000-exec-2] ERROR c.b.controller.BlockchainController - Failed to query medals: Failed to connect to /127.0.0.1:23010
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainService.queryUserMedals(BlockchainService.java:88)
	at com.brokerwallet.controller.BlockchainController.queryUserMedals(BlockchainController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserMedals(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 79 common frames omitted
2025-09-25 09:59:33 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:59:33 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.brokerwallet.controller.BlockchainController$ErrorResponse@cfec6ff]
2025-09-25 09:59:33 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-09-25 09:59:47 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/test-contract", parameters={}
2025-09-25 09:59:47 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#testContract()
2025-09-25 09:59:47 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-09-25 09:59:47 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["合约连接失败: Failed to connect to /127.0.0.1:23010"]
2025-09-25 09:59:47 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:00:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 10:00:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 10:00:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 10:00:53 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 18952 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 10:00:53 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 10:00:53 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 10:00:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 10:00:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 10:00:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 10:00:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 130 ms. Found 3 JPA repository interfaces.
2025-09-25 10:00:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 10:00:56 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 10:00:56 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 10:00:56 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 10:00:56 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3328 ms
2025-09-25 10:00:56 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 10:00:56 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 10:00:57 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 10:00:57 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 10:00:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 10:00:57 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41ae2171
2025-09-25 10:00:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 10:00:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 10:00:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 10:00:59 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 10:00:59 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 10:01:00 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 10:01:02 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 10:01:02 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 12917
2025-09-25 10:01:03 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986090899317629692416 wei
2025-09-25 10:01:03 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 10:01:03 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 10:01:03 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 10:01:03 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:01:03 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 10:01:03 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 10:01:03 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 10:01:03 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 10:01:03 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 10:01:03 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 10:01:03 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 10:01:03 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 10:01:03 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 10:01:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 10:01:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 10:01:04 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 12.166 seconds (process running for 13.392)
2025-09-25 10:01:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:01:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:01:04 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:01:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:01:04 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:01:04 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:01:05 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:01:05 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:01:05 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:01:05 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:01:54 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 10:01:54 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3ad522c
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@585c617e
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 10:01:54 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/test-contract", parameters={}
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#testContract()
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["合约连接成功，地址: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18"]
2025-09-25 10:01:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:01:58 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:01:58 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:01:58 [http-nio-5000-exec-2] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:01:58 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:01:58 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:01:58 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:01:58 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:02:02 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:02:02 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:02:02 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:02:02 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:02:09 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:02:09 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 10:02:09 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:06:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:06:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:06:04 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:06:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:06:04 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:06:04 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:06:04 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:06:04 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:06:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:06:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:06:52 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 10:06:52 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 10:06:52 [http-nio-5000-exec-5] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 10:06:52 [http-nio-5000-exec-5] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 10:06:52 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 10:06:52 [http-nio-5000-exec-5] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 10:06:53 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:06:53 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 10:06:53 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:06:53 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 10:06:53 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 10:06:53 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 10:06:53 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:06:54 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 10:06:54 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址
2025-09-25 10:06:54 [http-nio-5000-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址] with root cause
jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:170)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserMedals(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:54 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 10:06:54 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:54 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:06:54 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:06:54 CST 2025, status=500, error=Internal Server Error, trace=jakarta.vali (truncated)...]
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 10:06:54 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:06:54 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-25 10:06:55 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:06:55 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:06:55 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: jakarta.validation.ConstraintViolationException: queryUserNfts.address: 无效的以太坊地址
2025-09-25 10:06:55 [http-nio-5000-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.ConstraintViolationException: queryUserNfts.address: 无效的以太坊地址] with root cause
jakarta.validation.ConstraintViolationException: queryUserNfts.address: 无效的以太坊地址
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:170)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserNfts(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:06:55 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 10:06:55 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:06:55 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:06:55 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:06:55 CST 2025, status=500, error=Internal Server Error, trace=jakarta.vali (truncated)...]
2025-09-25 10:06:55 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 10:06:56 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 10:06:56 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:06:57 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:06:57 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:06:57 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: jakarta.validation.ConstraintViolationException: queryUserNfts.address: 无效的以太坊地址
2025-09-25 10:06:57 [http-nio-5000-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.ConstraintViolationException: queryUserNfts.address: 无效的以太坊地址] with root cause
jakarta.validation.ConstraintViolationException: queryUserNfts.address: 无效的以太坊地址
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:170)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserNfts(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:06:57 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 10:06:57 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:06:57 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:06:57 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:06:57 CST 2025, status=500, error=Internal Server Error, trace=jakarta.vali (truncated)...]
2025-09-25 10:06:57 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 10:06:58 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 10:06:58 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:07:38 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:07:38 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:07:38 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址
2025-09-25 10:07:38 [http-nio-5000-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址] with root cause
jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:170)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserMedals(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:07:38 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 10:07:38 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:07:38 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:07:38 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:07:38 CST 2025, status=500, error=Internal Server Error, trace=jakarta.vali (truncated)...]
2025-09-25 10:07:38 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-25 10:09:51 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:09:51 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:09:51 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址
2025-09-25 10:09:51 [http-nio-5000-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址] with root cause
jakarta.validation.ConstraintViolationException: queryUserMedals.address: 无效的以太坊地址
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:170)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserMedals(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:09:51 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 10:09:51 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:09:51 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:09:51 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:09:51 CST 2025, status=500, error=Internal Server Error, trace=jakarta.vali (truncated)...]
2025-09-25 10:09:51 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-25 10:10:30 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:10:30 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:10:30 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:10:30 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:10:31 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:10:31 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:10:31 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:11:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:11:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:11:04 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:11:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:11:04 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:11:04 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:11:04 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:11:04 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:11:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:11:04 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:12:52 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 10:12:52 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 10:12:52 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:12:52 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 10:12:52 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:12:53 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 10:12:53 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 10:12:53 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 10:12:53 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 10:12:53 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:12:53 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 10:12:53 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 10:12:53 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:12:53 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:12:53 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:12:53 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:12:53 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:12:53 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:12:53 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:13:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 10:13:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 10:13:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 10:13:22 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 1228 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 10:13:22 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 10:13:22 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 10:13:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 10:13:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 10:13:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 10:13:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 3 JPA repository interfaces.
2025-09-25 10:13:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 10:13:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 10:13:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 10:13:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 10:13:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3568 ms
2025-09-25 10:13:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 10:13:27 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 10:13:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 10:13:27 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 10:13:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 10:13:27 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2718b457
2025-09-25 10:13:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 10:13:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 10:13:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 10:13:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 10:13:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 10:13:30 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 10:13:32 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 10:13:33 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 12941
2025-09-25 10:13:33 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986091593762069690880 wei
2025-09-25 10:13:33 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 10:13:33 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 10:13:33 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 10:13:33 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:13:33 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 10:13:33 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 10:13:33 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 10:13:33 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 10:13:33 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 10:13:34 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 10:13:34 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 10:13:34 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 10:13:34 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 10:13:34 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 10:13:34 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 10:13:34 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 12.68 seconds (process running for 13.866)
2025-09-25 10:13:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:13:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:13:35 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:13:35 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:13:35 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:13:35 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:13:35 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:13:35 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:13:35 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:13:35 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:13:38 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 10:13:38 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4b307ad7
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@30c69706
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 10:13:38 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 10:13:38 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 10:13:38 [http-nio-5000-exec-1] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 10:13:38 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 10:13:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:13:41 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 10:13:41 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 10:13:41 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:13:41 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 10:13:41 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:13:44 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 10:13:44 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 10:13:44 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:13:44 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:13:44 [http-nio-5000-exec-3] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 10:13:44 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 10:13:44 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:13:44 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 10:13:44 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 10:13:45 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:13:45 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:13:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:13:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:13:45 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/health", parameters={}
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource health.]
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:14:18 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 10:14:18 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/health", parameters={}
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource health.]
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:15:39 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 10:15:39 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 10:16:18 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:16:18 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:16:18 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:16:18 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:16:19 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:16:19 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:16:19 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:16:21 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:16:21 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:16:21 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:16:21 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:16:27 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:16:27 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 10:16:28 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions/8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/upload/user/submissions/8c056ccb92c567da3fee27c23d4f2f107f203879.]
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:16:30 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 10:16:30 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 10:16:51 [http-nio-5000-exec-4] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 10:16:51 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:18:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:18:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:18:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:18:35 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:18:35 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:18:35 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:18:35 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:18:35 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:18:35 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:18:35 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:22:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 10:22:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 10:22:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 10:22:22 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 8220 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 10:22:22 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 10:22:22 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 10:22:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 10:22:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 10:22:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 10:22:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 121 ms. Found 3 JPA repository interfaces.
2025-09-25 10:22:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 10:22:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 10:22:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 10:22:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 10:22:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3347 ms
2025-09-25 10:22:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 10:22:26 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 10:22:26 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 10:22:27 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 10:22:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 10:22:27 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6df72db6
2025-09-25 10:22:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 10:22:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 10:22:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 10:22:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 10:22:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 10:22:30 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 10:22:32 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 10:22:32 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 12962
2025-09-25 10:22:32 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986092172465769689600 wei
2025-09-25 10:22:32 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 10:22:32 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 10:22:32 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 10:22:32 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:22:32 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 10:22:32 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 10:22:32 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 10:22:32 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 10:22:32 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 10:22:33 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 10:22:33 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 10:22:33 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 10:22:33 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 10:22:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 10:22:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 10:22:33 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 11.856 seconds (process running for 13.112)
2025-09-25 10:22:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:22:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:22:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:22:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:22:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:22:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:22:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:22:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:22:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:22:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:23:17 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 10:23:17 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@30268e28
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5a7e1df3
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 10:23:17 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 10:23:17 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 10:23:17 [http-nio-5000-exec-1] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 10:23:17 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 10:23:17 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 10:23:18 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 10:23:18 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:23:18 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 10:23:18 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:23:18 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:23:18 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:23:19 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:23:19 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:23:19 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:23:22 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:23:22 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:23:22 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:23:22 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:23:28 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:23:28 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 10:23:28 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:24:04 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:24:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:24:04 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:24:04 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:24:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:24:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:24:04 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:26:55 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:26:55 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:26:55 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:26:55 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:26:55 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:26:55 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:26:55 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:27:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:27:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:27:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:27:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:27:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:27:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:27:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:27:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:27:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:27:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:28:45 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:28:45 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:28:45 [http-nio-5000-exec-2] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:28:45 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:28:51 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:28:51 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 10:28:51 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:30:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 10:30:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 10:30:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:30:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 10:30:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/query?address=8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={masked}
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/medal/query.]
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?address=8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={masked}
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 10:30:04 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 10:30:04 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 10:32:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:32:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:32:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:32:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:32:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:32:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:32:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:32:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:32:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:32:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:37:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:37:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:37:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:37:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:37:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:37:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:37:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:37:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:37:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:37:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:42:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:42:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:42:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:42:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:42:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:42:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:42:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:42:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:42:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:42:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:47:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:47:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:47:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:47:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:47:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:47:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:47:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:47:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:47:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:47:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:50:25 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 10:50:25 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 10:50:25 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:50:25 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 10:50:25 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 10:50:27 [http-nio-5000-exec-8] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 10:50:27 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:50:27 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 10:50:27 [http-nio-5000-exec-9] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:50:27 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 10:50:27 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:50:27 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:50:27 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 10:50:27 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:50:28 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:50:28 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:50:28 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:50:28 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:50:34 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:50:34 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 10:50:34 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:51:57 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:51:57 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:51:57 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:51:57 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:52:03 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:52:03 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 10:52:04 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:52:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:52:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:52:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:52:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:52:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:52:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:52:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:52:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:52:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:52:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 10:55:42 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 10:55:42 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 10:55:42 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:55:42 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:55:48 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 10:55:48 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 10:55:48 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 10:57:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 10:57:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 10:57:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 10:57:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 10:57:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 10:57:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 10:57:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 10:57:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 10:57:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 10:57:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:00:21 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:00:21 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:00:21 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:00:21 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:00:27 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:00:27 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:00:27 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:01:49 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:01:49 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:01:49 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:01:49 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:01:56 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:01:56 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:01:56 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:02:01 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:02:01 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:02:01 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:02:01 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:02:08 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:02:08 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:02:08 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:02:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:02:33 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:02:34 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:02:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:02:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:02:34 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:02:34 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:02:34 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:02:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:02:34 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:03:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 11:03:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 11:03:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 11:04:01 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 8048 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 11:04:01 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 11:04:01 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 11:04:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 11:04:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 11:04:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 11:04:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 112 ms. Found 3 JPA repository interfaces.
2025-09-25 11:04:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 11:04:04 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 11:04:04 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 11:04:04 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 11:04:04 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3157 ms
2025-09-25 11:04:04 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 11:04:04 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 11:04:04 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 11:04:05 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 11:04:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 11:04:05 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6df72db6
2025-09-25 11:04:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 11:04:05 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 11:04:05 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 11:04:07 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 11:04:07 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 11:04:08 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 11:04:10 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 11:04:10 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13111
2025-09-25 11:04:10 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986093966447239685632 wei
2025-09-25 11:04:10 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 11:04:10 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 11:04:10 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 11:04:10 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:04:10 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 11:04:10 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 11:04:10 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 11:04:10 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 11:04:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 11:04:11 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 11:04:11 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 11:04:11 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 11:04:11 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 11:04:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 11:04:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 11:04:11 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 11.563 seconds (process running for 12.76)
2025-09-25 11:04:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:04:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:04:12 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:04:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:04:12 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:04:12 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:04:12 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:04:12 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:04:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:04:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:04:54 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 11:04:54 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@30268e28
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5a7e1df3
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 11:04:54 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 11:04:54 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 11:04:54 [http-nio-5000-exec-1] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 11:04:54 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 11:04:54 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 11:04:55 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:04:55 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 11:04:55 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 11:04:55 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:04:55 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:04:55 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:04:55 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:04:55 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 11:04:55 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:04:56 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:04:56 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:04:56 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:04:56 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:05:03 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:05:03 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:05:03 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:09:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:09:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:09:12 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:09:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:09:12 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:09:12 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:09:12 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:09:12 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:09:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:09:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:14:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:14:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:14:12 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:14:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:14:12 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:14:12 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:14:12 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:14:12 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:14:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:14:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:15:23 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:15:23 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:15:23 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:15:23 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 11:15:24 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 11:15:24 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:15:25 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:15:25 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:15:25 [http-nio-5000-exec-9] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:15:25 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:15:30 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:15:30 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:15:30 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:15:31 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:15:31 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:15:31 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:19:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:19:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:19:12 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:19:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:19:12 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:19:12 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:19:12 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:19:12 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:19:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:19:12 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:19:28 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 11:19:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 11:19:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 11:19:43 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 15532 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 11:19:43 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 11:19:43 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 11:19:43 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 11:19:43 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 11:19:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 11:19:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 3 JPA repository interfaces.
2025-09-25 11:19:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 11:19:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 11:19:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 11:19:46 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 11:19:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3356 ms
2025-09-25 11:19:46 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 11:19:46 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 11:19:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 11:19:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 11:19:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 11:19:47 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d642ced
2025-09-25 11:19:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 11:19:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 11:19:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 11:19:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 11:19:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 11:19:50 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 11:19:52 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 11:19:52 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13167
2025-09-25 11:19:52 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986095876169449681408 wei
2025-09-25 11:19:52 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 11:19:52 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 11:19:52 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 11:19:52 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:19:53 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 11:19:53 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 11:19:53 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 11:19:53 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 11:19:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 11:19:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 11:19:53 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 11:19:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 11:19:53 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 11:19:53 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 11:19:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 11:19:54 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 11.838 seconds (process running for 13.016)
2025-09-25 11:19:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:19:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:19:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:19:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:19:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:19:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:19:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:19:55 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:19:55 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:19:55 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:20:20 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 11:20:20 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 11:20:20 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 11:20:20 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 11:20:20 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 11:20:20 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6e222224
2025-09-25 11:20:20 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@72f4f2eb
2025-09-25 11:20:20 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 11:20:20 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-09-25 11:20:20 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 11:20:20 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 11:20:21 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 11:20:21 [http-nio-5000-exec-1] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 11:20:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 11:20:21 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 11:20:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:20:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 11:20:21 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 11:20:22 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 11:20:22 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:20:22 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={pageSize=20, currentPage=0, totalItems=4, totalPages=1}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 11:20:22 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:20:22 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:20:22 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:20:22 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:20:22 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 11:20:22 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:20:23 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:20:23 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:20:23 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:20:23 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:20:30 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:20:30 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:20:30 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:24:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:24:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:24:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:24:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:24:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:24:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:24:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:24:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:24:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:24:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:24:57 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 11:24:57 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 11:24:57 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 11:24:57 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:24:57 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={pageSize=20, currentPage=0, totalItems=4, totalPages=1}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 11:24:57 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:24:58 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:24:58 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 11:24:58 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:25:02 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:25:02 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:25:02 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:25:02 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:25:08 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:25:08 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:25:08 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:29:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:29:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:29:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:29:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:29:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:29:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:29:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:29:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:29:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:29:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:33:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 11:33:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 11:33:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 11:33:43 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 7396 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 11:33:43 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 11:33:43 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 11:33:43 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 11:33:43 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 11:33:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 11:33:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 3 JPA repository interfaces.
2025-09-25 11:33:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 11:33:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 11:33:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 11:33:46 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 11:33:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3195 ms
2025-09-25 11:33:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 11:33:47 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 11:33:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 11:33:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 11:33:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 11:33:48 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41ea91f3
2025-09-25 11:33:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 11:33:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 11:33:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 11:33:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 11:33:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 11:33:50 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 11:33:52 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 11:33:52 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13206
2025-09-25 11:33:53 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986099059039799674368 wei
2025-09-25 11:33:53 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 11:33:53 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 11:33:53 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 11:33:53 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:33:53 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 11:33:53 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 11:33:53 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 11:33:53 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 11:33:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 11:33:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 11:33:53 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 11:33:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 11:33:53 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 11:33:54 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 11:33:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 11:33:54 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 11.555 seconds (process running for 12.721)
2025-09-25 11:33:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:33:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:33:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:33:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:33:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:33:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:33:55 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:33:55 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:33:55 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:33:55 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:34:45 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 11:34:45 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@395ef464
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@29a2540a
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 11:34:45 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 11:34:45 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 11:34:45 [http-nio-5000-exec-1] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 11:34:45 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 11:34:45 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 11:34:46 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:34:46 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 11:34:46 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 11:34:46 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:34:46 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:34:46 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:34:46 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:34:46 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 11:34:46 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:34:48 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:34:48 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:34:48 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:34:48 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:34:54 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:34:54 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:34:54 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:38:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:38:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:38:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:38:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:38:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:38:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:38:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:38:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:38:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:38:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:40:59 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 11:40:59 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 11:40:59 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:40:59 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 11:40:59 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 11:41:00 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 11:41:00 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 11:41:00 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 11:41:00 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:41:00 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 11:41:00 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:41:01 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:41:01 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 11:41:01 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:41:01 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 11:41:01 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 11:41:01 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:41:01 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:41:07 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 11:41:07 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 11:41:08 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 11:43:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:43:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:43:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:43:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:43:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:43:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:43:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:43:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:43:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:43:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:48:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:48:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:48:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:48:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:48:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:48:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:48:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:48:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:48:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:48:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:53:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:53:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:53:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:53:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:53:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:53:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:53:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:53:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:53:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:53:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 11:58:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 11:58:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 11:58:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 11:58:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 11:58:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 11:58:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 11:58:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 11:58:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 11:58:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 11:58:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 12:03:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 12:03:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 12:03:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 12:03:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 12:03:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 12:03:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 12:03:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 12:03:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 12:03:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 12:03:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 12:08:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 12:08:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 12:08:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 12:08:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 12:08:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 12:08:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 12:08:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 12:08:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 12:08:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 12:08:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 12:16:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m6s24ms353µs100ns).
2025-09-25 14:14:19 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 28380 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 14:14:19 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 14:14:19 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 14:14:19 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 14:14:19 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 14:14:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 14:14:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 127 ms. Found 3 JPA repository interfaces.
2025-09-25 14:14:22 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 14:14:22 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 14:14:22 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 14:14:23 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 14:14:23 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3825 ms
2025-09-25 14:14:23 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 14:14:23 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 14:14:23 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 14:14:24 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 14:14:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 14:14:24 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56cf09ef
2025-09-25 14:14:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 14:14:24 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 14:14:24 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 14:14:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 14:14:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 14:14:27 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 14:14:29 [restartedMain] ERROR c.b.config.BlockchainConfig - Failed to connect to BrokerChain client: Failed to connect to /127.0.0.1:37433
2025-09-25 14:14:29 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 14:14:29 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 14:14:29 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:14:29 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 14:14:29 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 14:14:29 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 14:14:29 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 14:14:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 14:14:30 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 14:14:30 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 14:14:30 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 14:14:30 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 14:14:30 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 14:14:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 14:14:31 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 13.133 seconds (process running for 14.539)
2025-09-25 14:14:31 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:14:31 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:14:31 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:37433
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 14:14:31 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:14:31 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:14:31 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:14:31 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:37433
2025-09-25 14:14:31 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 14:14:31 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:15:45 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 14:15:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 14:15:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 14:16:02 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 10104 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 14:16:02 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 14:16:02 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 14:16:02 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 14:16:02 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 14:16:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 14:16:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 3 JPA repository interfaces.
2025-09-25 14:16:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 14:16:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 14:16:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 14:16:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 14:16:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3470 ms
2025-09-25 14:16:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 14:16:06 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 14:16:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 14:16:06 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 14:16:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 14:16:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6df72db6
2025-09-25 14:16:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 14:16:07 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 14:16:07 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 14:16:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 14:16:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 14:16:10 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 14:16:12 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 14:16:13 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13250
2025-09-25 14:16:13 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986101142373119669760 wei
2025-09-25 14:16:13 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 14:16:13 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 14:16:13 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 14:16:13 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:16:13 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 14:16:13 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 14:16:13 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 14:16:13 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 14:16:13 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 14:16:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 14:16:14 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 14:16:14 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 14:16:14 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 14:16:14 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 14:16:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 14:16:14 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 13.549 seconds (process running for 14.894)
2025-09-25 14:16:14 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:16:14 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:16:15 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:16:15 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:16:15 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:16:15 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:16:15 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:16:15 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:16:15 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:16:15 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:16:37 [http-nio-5000-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 14:16:37 [http-nio-5000-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@30268e28
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5a7e1df3
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 14:16:37 [http-nio-5000-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - OPTIONS "/api/admin/pending-users?page=1&limit=10", parameters={masked}
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getPendingUsers(int, int)
2025-09-25 14:16:37 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:16:37 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/pending-users?page=1&limit=10", parameters={masked}
2025-09-25 14:16:37 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getPendingUsers(int, int)
2025-09-25 14:16:37 [http-nio-5000-exec-1] INFO  c.b.controller.AdminController - 获取待审核文件列表: page=1, limit=10
2025-09-25 14:16:37 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.audit_status=? 
    order by
        pf1_0.upload_time desc 
    limit
        ?, ?
2025-09-25 14:16:37 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:16:37 [http-nio-5000-exec-1] INFO  c.b.controller.AdminController - 成功获取4条待审核文件
2025-09-25 14:16:37 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:16:37 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{total=4, code=1, success=true, totalPages=1, message=获取成功, currentPage=1, users=[{fileName=1da96061 (truncated)...]
2025-09-25 14:16:37 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:16:54 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - OPTIONS "/api/admin/pending-users?page=1&limit=10", parameters={masked}
2025-09-25 14:16:54 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getPendingUsers(int, int)
2025-09-25 14:16:54 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:16:54 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/pending-users?page=1&limit=10", parameters={masked}
2025-09-25 14:16:54 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getPendingUsers(int, int)
2025-09-25 14:16:54 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 获取待审核文件列表: page=1, limit=10
2025-09-25 14:16:54 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.audit_status=? 
    order by
        pf1_0.upload_time desc 
    limit
        ?, ?
2025-09-25 14:16:54 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:16:54 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 成功获取4条待审核文件
2025-09-25 14:16:54 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:16:54 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{total=4, code=1, success=true, totalPages=1, message=获取成功, currentPage=1, users=[{fileName=1da96061 (truncated)...]
2025-09-25 14:16:54 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:16:59 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - OPTIONS "/api/medal/ranking?page=0&size=50", parameters={masked}
2025-09-25 14:16:59 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:16:59 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:16:59 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking?page=0&size=50", parameters={masked}
2025-09-25 14:16:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:16:59 [http-nio-5000-exec-6] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=50
2025-09-25 14:16:59 [http-nio-5000-exec-6] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=50
2025-09-25 14:16:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 14:16:59 [http-nio-5000-exec-6] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 14:16:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:16:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 14:16:59 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:02 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/pending-users?page=1&limit=10", parameters={masked}
2025-09-25 14:17:02 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getPendingUsers(int, int)
2025-09-25 14:17:02 [http-nio-5000-exec-7] INFO  c.b.controller.AdminController - 获取待审核文件列表: page=1, limit=10
2025-09-25 14:17:02 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.audit_status=? 
    order by
        pf1_0.upload_time desc 
    limit
        ?, ?
2025-09-25 14:17:02 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:17:02 [http-nio-5000-exec-7] INFO  c.b.controller.AdminController - 成功获取4条待审核文件
2025-09-25 14:17:02 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:17:02 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{total=4, code=1, success=true, totalPages=1, message=获取成功, currentPage=1, users=[{fileName=1da96061 (truncated)...]
2025-09-25 14:17:02 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:03 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - OPTIONS "/api/admin/material-detail/18", parameters={}
2025-09-25 14:17:03 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getMaterialDetail(Long)
2025-09-25 14:17:03 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:03 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/material-detail/18", parameters={}
2025-09-25 14:17:03 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getMaterialDetail(Long)
2025-09-25 14:17:03 [http-nio-5000-exec-9] INFO  c.b.controller.AdminController - 获取材料详情: id=18
2025-09-25 14:17:03 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.id=?
2025-09-25 14:17:03 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:17:03 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.user_account_id=? 
    order by
        ni1_0.upload_time desc
2025-09-25 14:17:03 [http-nio-5000-exec-9] INFO  c.b.controller.AdminController - 材料详情获取成功: 18
2025-09-25 14:17:03 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:17:03 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data={fileName=1da9606195df43cb97b50196071ffec4_1758201127485.docx, displayName=null, adminApproved (truncated)...]
2025-09-25 14:17:03 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:06 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/pending-users?page=1&limit=10", parameters={masked}
2025-09-25 14:17:06 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getPendingUsers(int, int)
2025-09-25 14:17:06 [http-nio-5000-exec-10] INFO  c.b.controller.AdminController - 获取待审核文件列表: page=1, limit=10
2025-09-25 14:17:06 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.audit_status=? 
    order by
        pf1_0.upload_time desc 
    limit
        ?, ?
2025-09-25 14:17:06 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:17:06 [http-nio-5000-exec-10] INFO  c.b.controller.AdminController - 成功获取4条待审核文件
2025-09-25 14:17:06 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:17:06 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{total=4, code=1, success=true, totalPages=1, message=获取成功, currentPage=1, users=[{fileName=1da96061 (truncated)...]
2025-09-25 14:17:06 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:15 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking?page=0&size=50", parameters={masked}
2025-09-25 14:17:15 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:17:15 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:17:15 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 14:17:15 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:29 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - OPTIONS "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=50", parameters={masked}
2025-09-25 14:17:29 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:17:29 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=50", parameters={masked}
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:17:29 [http-nio-5000-exec-3] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=50
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=50, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:17:29 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:38 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/pending-users?page=1&limit=10", parameters={masked}
2025-09-25 14:17:38 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getPendingUsers(int, int)
2025-09-25 14:17:38 [http-nio-5000-exec-5] INFO  c.b.controller.AdminController - 获取待审核文件列表: page=1, limit=10
2025-09-25 14:17:38 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.audit_status=? 
    order by
        pf1_0.upload_time desc 
    limit
        ?, ?
2025-09-25 14:17:38 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:17:38 [http-nio-5000-exec-5] INFO  c.b.controller.AdminController - 成功获取4条待审核文件
2025-09-25 14:17:38 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:17:38 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{total=4, code=1, success=true, totalPages=1, message=获取成功, currentPage=1, users=[{fileName=1da96061 (truncated)...]
2025-09-25 14:17:38 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:41 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/material-detail/18", parameters={}
2025-09-25 14:17:41 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getMaterialDetail(Long)
2025-09-25 14:17:41 [http-nio-5000-exec-6] INFO  c.b.controller.AdminController - 获取材料详情: id=18
2025-09-25 14:17:41 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.id=?
2025-09-25 14:17:41 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:17:41 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.user_account_id=? 
    order by
        ni1_0.upload_time desc
2025-09-25 14:17:41 [http-nio-5000-exec-6] INFO  c.b.controller.AdminController - 材料详情获取成功: 18
2025-09-25 14:17:41 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-09-25 14:17:41 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data={fileName=1da9606195df43cb97b50196071ffec4_1758201127485.docx, displayName=null, adminApproved (truncated)...]
2025-09-25 14:17:41 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:17:44 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/nft-image/783041a98a31457ca6fe279833a15312_1758182975497", parameters={}
2025-09-25 14:17:44 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#getNftImage(String)
2025-09-25 14:17:44 [http-nio-5000-exec-7] INFO  c.b.controller.AdminController - 获取NFT图片: 783041a98a31457ca6fe279833a15312_1758182975497
2025-09-25 14:17:44 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.image_name=?
2025-09-25 14:17:44 [http-nio-5000-exec-7] INFO  c.b.controller.AdminController - NFT图片访问成功: 783041a98a31457ca6fe279833a15312_1758182975497 (image/jpeg)
2025-09-25 14:17:44 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:image/jpeg' in response
2025-09-25 14:17:44 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [URL [file:///D:/brokerwallet/BrokerWallet-backend/uploads/nft-images/users/6/783041a98a31457ca6fe279 (truncated)...]
2025-09-25 14:17:44 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:18:01 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 14:18:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 14:18:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 14:22:40 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 28100 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 14:22:40 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 14:22:40 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 14:22:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 14:22:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 14:22:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 14:22:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 128 ms. Found 3 JPA repository interfaces.
2025-09-25 14:22:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 14:22:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 14:22:44 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 14:22:44 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 14:22:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4008 ms
2025-09-25 14:22:44 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 14:22:44 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 14:22:44 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 14:22:45 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 14:22:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 14:22:45 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1eab5e38
2025-09-25 14:22:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 14:22:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 14:22:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 14:22:48 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 14:22:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 14:22:48 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 14:22:51 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 14:22:51 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13251
2025-09-25 14:22:52 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986102068299039667712 wei
2025-09-25 14:22:52 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 14:22:52 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 14:22:52 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 14:22:52 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:22:52 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 14:22:52 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 14:22:52 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 14:22:52 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 14:22:52 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 14:22:52 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 14:22:53 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 14:22:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 14:22:53 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 14:22:53 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 14:22:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 14:22:53 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 14.755 seconds (process running for 16.376)
2025-09-25 14:22:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:22:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:22:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:22:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:22:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:22:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:22:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:22:55 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:22:55 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:22:55 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:23:19 [http-nio-5000-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 14:23:19 [http-nio-5000-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@79b62c79
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2a062ff4
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 14:23:19 [http-nio-5000-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:23:19 [http-nio-5000-exec-2] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 14:23:19 [http-nio-5000-exec-2] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 14:23:19 [http-nio-5000-exec-2] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:23:19 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 14:23:20 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:23:27 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:23:27 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:23:27 [http-nio-5000-exec-3] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:23:27 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:23:27 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:23:27 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:23:28 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:23:28 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 14:23:28 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:23:35 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:23:35 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:23:35 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:23:35 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:23:43 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:23:43 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:23:43 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:27:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:27:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:27:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:27:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:27:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:27:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:27:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:27:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:27:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:27:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:30:44 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 14:30:44 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:30:44 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:30:44 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 14:30:44 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:30:50 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 14:30:50 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:30:50 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 14:30:50 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:30:50 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:30:50 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:30:50 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:30:50 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 14:30:50 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:30:51 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:30:51 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:30:51 [http-nio-5000-exec-2] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:30:51 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:30:59 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:30:59 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:30:59 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:32:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:32:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:32:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:32:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:32:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:32:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:32:55 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:32:55 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:32:55 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:32:55 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:35:17 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 14:35:17 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:35:17 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:35:17 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 14:35:17 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:35:19 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 14:35:19 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:35:19 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:35:19 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:35:19 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:35:19 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:35:19 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:35:19 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 14:35:19 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:35:27 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:35:27 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:35:27 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:35:27 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:35:39 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:35:39 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:35:39 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:35:54 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:35:54 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:35:58 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:35:58 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:35:58 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:35:58 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:36:07 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:36:07 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:36:07 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:37:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:37:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:37:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:37:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:37:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:37:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:37:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:37:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:37:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:37:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:42:17 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 14:42:17 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:42:17 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:42:17 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 14:42:17 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:42:18 [http-nio-5000-exec-5] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 14:42:18 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:42:18 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 14:42:18 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:42:18 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:42:18 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:42:18 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:42:18 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 14:42:18 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:42:19 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:42:19 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:42:19 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:42:19 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:42:27 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:42:27 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:42:27 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:42:45 [http-nio-5000-exec-8] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:42:45 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:42:47 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:42:47 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:42:47 [http-nio-5000-exec-9] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:42:47 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:42:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:42:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:42:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:42:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:42:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:42:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:42:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:42:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:42:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:42:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:42:58 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:42:58 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:42:58 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 14:46:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:46:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:46:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 14:46:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 14:46:14 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:46:14 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:46:14 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:46:14 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:14 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:46:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:14 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:46:14 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 14:46:14 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:15 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 14:46:15 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:46:15 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:15 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:25 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:46:25 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:46:25 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:25 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 14:46:25 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:46:25 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:25 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:33 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:46:33 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:46:33 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:33 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 14:46:33 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:46:33 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:33 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:40 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:46:40 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:46:40 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:40 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=3&size=5", parameters={masked}
2025-09-25 14:46:40 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:46:40 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:40 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:47 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:46:47 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:46:47 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:47 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=4&size=5", parameters={masked}
2025-09-25 14:46:47 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:46:47 [http-nio-5000-exec-9] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:47 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:54 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:46:54 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:46:54 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:46:54 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=5&size=5", parameters={masked}
2025-09-25 14:46:54 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:46:54 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:46:54 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:02 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:47:02 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:47:02 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:47:02 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=6&size=5", parameters={masked}
2025-09-25 14:47:02 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:47:02 [http-nio-5000-exec-2] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:02 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:09 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:47:09 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:47:09 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:47:09 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=7&size=5", parameters={masked}
2025-09-25 14:47:09 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:47:09 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:09 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:47:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:47:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:47:16 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=8&size=5", parameters={masked}
2025-09-25 14:47:16 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:47:16 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:16 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:24 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:47:24 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:47:24 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:47:24 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=9&size=5", parameters={masked}
2025-09-25 14:47:24 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:47:24 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:24 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:31 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:47:31 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:47:31 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:47:31 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=10&size=5", parameters={masked}
2025-09-25 14:47:31 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:47:31 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:31 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:38 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:47:38 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:47:38 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:47:38 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=11&size=5", parameters={masked}
2025-09-25 14:47:38 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:47:38 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:38 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:45 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:47:45 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:47:45 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:47:45 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=12&size=5", parameters={masked}
2025-09-25 14:47:45 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:47:45 [http-nio-5000-exec-9] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:45 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:52 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:47:52 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:47:52 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:47:53 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=13&size=5", parameters={masked}
2025-09-25 14:47:53 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:47:53 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:53 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:47:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:47:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:47:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:47:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:47:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:47:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:47:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:47:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:47:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:48:00 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:48:00 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:48:00 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:51:06 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 14:51:06 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 14:51:06 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:51:06 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 14:51:06 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 14:51:08 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 14:51:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 14:51:08 [http-nio-5000-exec-4] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 14:51:08 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:51:08 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 14:51:08 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:51:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:51:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 14:51:08 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:51:09 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 14:51:09 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:51:09 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:51:09 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:51:17 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:51:17 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:51:17 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:51:28 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 14:51:28 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String)
2025-09-25 14:51:28 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:51:28 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:51:36 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 14:51:36 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 14:51:36 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 14:52:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:52:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:52:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:52:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:52:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:52:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:52:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:52:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:52:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:52:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:57:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:57:53 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:57:54 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 14:57:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:57:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:57:54 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:57:54 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:57:54 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:57:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:57:54 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:59:52 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-09-25 14:59:52 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 14:59:52 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 14:59:52 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 14:59:53 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 28100 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 14:59:53 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 14:59:53 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 14:59:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 14:59:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 3 JPA repository interfaces.
2025-09-25 14:59:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 14:59:54 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 14:59:54 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 14:59:54 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 14:59:54 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1528 ms
2025-09-25 14:59:54 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 14:59:54 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 14:59:54 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 14:59:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-25 14:59:54 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77eea028
2025-09-25 14:59:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-25 14:59:54 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 14:59:54 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 14:59:55 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 14:59:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 14:59:56 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 14:59:56 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13652
2025-09-25 14:59:56 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986109070613809652224 wei
2025-09-25 14:59:56 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 14:59:56 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 14:59:56 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 14:59:56 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:59:56 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 14:59:56 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 14:59:56 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 14:59:56 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 14:59:56 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 14:59:57 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 14:59:57 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 14:59:57 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 14:59:57 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 14:59:57 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 14:59:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 14:59:57 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 14:59:57 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 4.488 seconds (process running for 2240.061)
2025-09-25 14:59:57 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 14:59:57 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-25 14:59:57 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807) ~[na:na]
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100) ~[classes/:na]
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.1.1.jar:6.1.1]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.0.jar:1.12.0]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.1.1.jar:6.1.1]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
2025-09-25 14:59:57 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 14:59:57 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 14:59:57 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 14:59:58 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 14:59:58 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 14:59:58 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 14:59:58 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 14:59:58 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 19 class path changes (0 additions, 0 deletions, 19 modifications)
2025-09-25 14:59:58 [Thread-9] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 14:59:58 [Thread-9] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-25 14:59:58 [Thread-9] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-25 14:59:59 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 28100 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 14:59:59 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 14:59:59 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 14:59:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 14:59:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 3 JPA repository interfaces.
2025-09-25 14:59:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 14:59:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 14:59:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 14:59:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 14:59:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 868 ms
2025-09-25 15:00:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 15:00:00 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 15:00:00 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 15:00:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-09-25 15:00:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58ee281
2025-09-25 15:00:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-09-25 15:00:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 15:00:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 15:00:00 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 15:00:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:00:01 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 15:00:01 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13653
2025-09-25 15:00:01 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986109070613809652224 wei
2025-09-25 15:00:01 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 15:00:01 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 15:00:01 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 15:00:01 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:00:01 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 15:00:01 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 15:00:01 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 15:00:01 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 15:00:01 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 15:00:01 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 15:00:02 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 15:00:02 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 15:00:02 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 15:00:02 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 15:00:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 15:00:02 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:00:02 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 3.285 seconds (process running for 2244.948)
2025-09-25 15:00:02 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:00:02 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-25 15:00:02 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807) ~[na:na]
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100) ~[classes/:na]
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.1.1.jar:6.1.1]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.0.jar:1.12.0]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.1.1.jar:6.1.1]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
2025-09-25 15:00:02 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:00:02 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:00:02 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:00:02 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:00:02 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:00:02 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:00:02 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:00:10 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 18 class path changes (0 additions, 0 deletions, 18 modifications)
2025-09-25 15:00:11 [Thread-14] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:00:11 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-09-25 15:00:11 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-09-25 15:00:11 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 28100 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 15:00:11 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 15:00:11 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 15:00:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 15:00:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 3 JPA repository interfaces.
2025-09-25 15:00:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 15:00:11 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 15:00:11 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 15:00:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 15:00:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 795 ms
2025-09-25 15:00:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 15:00:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 15:00:12 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 15:00:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-09-25 15:00:12 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@401dd5e9
2025-09-25 15:00:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-09-25 15:00:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 15:00:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 15:00:12 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 15:00:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:00:13 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 15:00:13 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13654
2025-09-25 15:00:13 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986109070613809652224 wei
2025-09-25 15:00:13 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 15:00:13 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 15:00:13 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 15:00:13 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:00:14 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 15:00:14 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 15:00:14 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 15:00:14 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 15:00:14 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 15:00:14 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 15:00:14 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 15:00:14 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 15:00:14 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 15:00:14 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 15:00:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 15:00:14 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 3.409 seconds (process running for 2257.251)
2025-09-25 15:00:14 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:00:14 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:00:14 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-25 15:00:14 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807) ~[na:na]
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100) ~[classes/:na]
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.1.1.jar:6.1.1]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.0.jar:1.12.0]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.1.1.jar:6.1.1]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
2025-09-25 15:00:14 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:00:14 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:00:14 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:00:15 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:00:15 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:00:15 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:00:15 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:01:30 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 14544 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 15:01:30 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 15:01:30 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 15:01:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 15:01:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 15:01:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 15:01:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 0 JPA repository interfaces.
2025-09-25 15:01:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 15:01:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 15:01:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 15:01:36 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 15:01:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6248 ms
2025-09-25 15:01:37 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 15:01:37 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 15:01:37 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 15:01:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 15:01:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 15:01:39 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1dae752b
2025-09-25 15:01:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 15:01:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 15:01:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 15:01:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 15:01:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:01:40 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 15:01:40 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 2 mappings in 'requestMappingHandlerMapping'
2025-09-25 15:01:41 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 15:01:41 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 15:01:41 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 15:01:41 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 15:01:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 15:01:41 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 13.307 seconds (process running for 15.239)
2025-09-25 15:01:47 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 68 class path changes (68 additions, 0 deletions, 0 modifications)
2025-09-25 15:01:47 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:01:47 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 15:01:47 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 15:01:50 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 14544 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 15:01:50 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 15:01:50 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 15:01:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 15:01:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 3 JPA repository interfaces.
2025-09-25 15:01:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 15:01:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 15:01:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 15:01:51 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 15:01:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 981 ms
2025-09-25 15:01:51 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 15:01:51 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 15:01:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 15:01:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-25 15:01:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f12b97d
2025-09-25 15:01:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-25 15:01:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 15:01:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 15:01:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 15:01:53 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:01:54 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 15:01:56 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 15:01:57 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13655
2025-09-25 15:01:57 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986109070613809652224 wei
2025-09-25 15:01:57 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 15:01:57 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 15:01:57 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 15:01:57 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:01:57 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 15:01:57 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 15:01:57 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 15:01:57 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 15:01:57 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 15:01:57 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 15:01:57 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 15:01:57 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 15:01:57 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 15:01:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 15:01:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 15:01:58 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 7.595 seconds (process running for 31.375)
2025-09-25 15:01:58 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   TaskExecutorConfigurations.TaskExecutorConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: java.util.concurrent.Executor; SearchStrategy: all) found beans of type 'java.util.concurrent.Executor' fileProcessorExecutor, taskExecutor (OnBeanCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-25 15:01:58 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:01:58 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:01:58 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807) ~[na:na]
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100) ~[classes/:na]
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.1.1.jar:6.1.1]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.0.jar:1.12.0]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.1.1.jar:6.1.1]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
2025-09-25 15:01:58 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:01:58 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:01:58 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:01:59 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:01:59 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:01:59 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:01:59 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:02:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:02:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-25 15:02:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-25 15:04:08 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 20224 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 15:04:08 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 15:04:08 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 15:04:08 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 15:04:08 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 15:04:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 15:04:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 3 JPA repository interfaces.
2025-09-25 15:04:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 15:04:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 15:04:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 15:04:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 15:04:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3969 ms
2025-09-25 15:04:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 15:04:12 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 15:04:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 15:04:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 15:04:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 15:04:13 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1eab5e38
2025-09-25 15:04:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 15:04:13 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 15:04:13 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 15:04:15 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 15:04:15 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:04:16 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 15:04:19 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 15:04:19 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13656
2025-09-25 15:04:20 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986109244224919651840 wei
2025-09-25 15:04:20 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 15:04:20 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 15:04:20 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 15:04:20 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:04:20 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 15:04:20 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 15:04:20 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 15:04:20 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 15:04:20 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 15:04:20 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 15:04:21 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 15:04:21 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 15:04:21 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 15:04:21 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 15:04:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 15:04:21 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 14.614 seconds (process running for 16.012)
2025-09-25 15:04:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:04:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:04:22 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:04:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:04:22 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:04:22 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:04:22 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:04:23 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:04:23 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:04:23 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:04:30 [http-nio-5000-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 15:04:30 [http-nio-5000-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@79b62c79
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2a062ff4
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 15:04:30 [http-nio-5000-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 15:04:30 [http-nio-5000-exec-2] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 15:04:30 [http-nio-5000-exec-2] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 15:04:30 [http-nio-5000-exec-2] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 15:04:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 15:04:31 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 15:04:31 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 15:04:31 [http-nio-5000-exec-3] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, currentPage=0, pageSize=20, totalPages=1}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 15:04:31 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:04:31 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:04:31 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:04:32 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:04:32 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 15:04:32 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:04:32 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 15:04:32 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:04:32 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 15:04:32 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:04:41 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 15:04:41 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:04:41 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:04:41 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:04:53 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 15:04:53 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:04:53 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 15:04:53 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:05:00 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 15:05:00 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:05:00 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:05:00 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:05:16 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 15:05:16 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:05:16 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 15:05:16 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:05:24 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 15:05:24 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:05:24 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:05:24 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:09:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:09:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:09:22 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:09:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:09:22 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:09:22 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:09:22 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:09:22 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:09:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:09:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:14:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:14:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:14:21 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:14:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:14:21 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:14:22 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:14:22 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:14:22 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:14:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:14:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:19:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:19:21 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:19:22 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:19:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:19:22 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:19:22 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:19:22 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:19:22 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:19:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:19:22 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:20:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:20:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 15:20:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 15:20:25 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 27580 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 15:20:25 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 15:20:25 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 15:20:25 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 15:20:25 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 15:20:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 15:20:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 153 ms. Found 3 JPA repository interfaces.
2025-09-25 15:20:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 15:20:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 15:20:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 15:20:29 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 15:20:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3728 ms
2025-09-25 15:20:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 15:20:29 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 15:20:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 15:20:30 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 15:20:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 15:20:30 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1fcbb1d
2025-09-25 15:20:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 15:20:30 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 15:20:30 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 15:20:32 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 15:20:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:20:33 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 15:20:36 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 15:20:36 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 13714
2025-09-25 15:20:36 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986113005798969643520 wei
2025-09-25 15:20:36 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 15:20:36 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 15:20:36 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 15:20:36 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:20:37 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 15:20:37 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 15:20:37 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 15:20:37 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 15:20:37 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 15:20:37 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 15:20:37 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 15:20:37 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 15:20:37 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 15:20:38 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 15:20:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 15:20:38 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 14.127 seconds (process running for 15.693)
2025-09-25 15:20:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:20:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:20:38 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:20:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:20:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:20:39 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:20:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:20:39 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:20:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:20:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:21:14 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 15:21:14 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 15:21:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 15:21:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 15:21:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 15:21:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7583ae84
2025-09-25 15:21:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@173895bb
2025-09-25 15:21:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 15:21:14 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 18 ms
2025-09-25 15:21:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 15:21:14 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 15:21:15 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 15:21:15 [http-nio-5000-exec-1] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 15:21:15 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 15:21:15 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 15:21:15 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:21:15 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 15:21:15 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 15:21:17 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 15:21:17 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 15:21:17 [http-nio-5000-exec-5] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 15:21:17 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:21:17 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:21:17 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:21:17 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:21:17 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 15:21:17 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:21:18 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 15:21:18 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:21:18 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 15:21:18 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:21:26 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 15:21:26 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:21:26 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:21:26 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:21:29 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 15:21:29 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:21:29 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 15:21:29 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:21:37 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 15:21:37 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:21:37 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:21:37 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:21:44 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 15:21:44 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:21:44 [http-nio-5000-exec-9] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 15:21:44 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:21:53 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 15:21:53 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:21:53 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:21:53 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:24:30 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=3&size=5", parameters={masked}
2025-09-25 15:24:30 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:24:30 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 3, size: 5
2025-09-25 15:24:30 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:24:37 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=3, 每页大小=5, 返回数量=1
2025-09-25 15:24:37 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:24:37 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:24:37 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:25:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:25:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:25:38 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:25:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:25:38 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:25:38 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:25:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:25:39 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:25:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:25:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:28:46 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 15:28:47 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 15:28:47 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:28:47 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 15:28:47 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 15:28:48 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 15:28:48 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 15:28:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 15:28:48 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:28:48 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 15:28:48 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:28:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:28:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 15:28:48 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:28:49 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 15:28:49 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:28:49 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 15:28:49 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:28:56 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 15:28:56 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:28:56 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:28:56 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:28:59 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 15:28:59 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:28:59 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 15:28:59 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:29:06 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 15:29:06 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:29:06 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:29:06 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
2025-09-25 15:30:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:30:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:30:38 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:30:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:30:38 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:30:38 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:30:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:30:39 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:30:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:30:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:35:17 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 15:35:17 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 15:35:17 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:35:17 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 15:35:17 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:35:18 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 15:35:18 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 15:35:18 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 15:35:18 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 15:35:18 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 15:35:18 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:35:18 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:35:18 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 15:35:19 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 15:35:19 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:35:19 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:35:19 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:35:19 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:35:19 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:35:19 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 15:35:19 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:35:19 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:35:19 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 15:35:19 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:35:19 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 15:35:19 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:35:20 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 15:35:20 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:35:30 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 15:35:30 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:35:30 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:35:30 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:35:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:35:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:35:38 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:35:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:35:38 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:35:38 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:35:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:35:39 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:35:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:35:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:39:24 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 15:39:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 15:39:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:39:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 15:39:24 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 15:39:26 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 15:39:26 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 15:39:26 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:39:26 [http-nio-5000-exec-4] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 15:39:26 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 15:39:26 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:39:26 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:39:26 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 15:39:26 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:39:27 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 15:39:27 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:39:27 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 15:39:27 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:39:35 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 15:39:35 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:39:35 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:39:35 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:39:44 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 15:39:44 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:39:44 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 15:39:44 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:39:52 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 15:39:52 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:39:52 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:39:52 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:40:01 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 15:40:01 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:40:01 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 15:40:01 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:40:09 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 15:40:09 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:40:09 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:40:10 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:40:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:40:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:40:38 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:40:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:40:38 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:40:38 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:40:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:40:39 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:40:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:40:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:43:14 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 15:43:14 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 15:43:14 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:43:14 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 15:43:14 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 15:43:15 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 15:43:15 [http-nio-5000-exec-4] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 15:43:15 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 15:43:15 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:43:15 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 15:43:15 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:43:15 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:43:15 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 15:43:15 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:43:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 15:43:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:43:16 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 15:43:16 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:43:24 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 15:43:24 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:43:24 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:43:24 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:43:31 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 15:43:31 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:43:31 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 15:43:31 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:43:39 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 15:43:39 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:43:39 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:43:39 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:43:40 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 15:43:40 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:43:40 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 15:43:40 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:43:48 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 15:43:48 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:43:48 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:43:48 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:43:52 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=3&size=5", parameters={masked}
2025-09-25 15:43:52 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:43:52 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 3, size: 5
2025-09-25 15:43:52 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:43:59 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=3, 每页大小=5, 返回数量=1
2025-09-25 15:43:59 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:43:59 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:43:59 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:45:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:45:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:45:38 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:45:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:45:38 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:45:38 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:45:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:45:39 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:45:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:45:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:48:53 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 15:48:53 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 15:48:53 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:48:53 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 15:48:53 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 15:48:55 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 15:48:55 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 15:48:55 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 15:48:55 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:48:55 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 15:48:55 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:48:55 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:48:55 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 15:48:55 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:48:57 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 15:48:57 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:48:57 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 15:48:57 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:49:06 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 15:49:06 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:49:06 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:49:06 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:49:38 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 15:49:38 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:49:38 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 15:49:38 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:49:45 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 15:49:45 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:49:45 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:49:45 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:49:50 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 15:49:50 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:49:50 [http-nio-5000-exec-6] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 15:49:50 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:49:57 [http-nio-5000-exec-6] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 15:49:57 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:49:57 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:49:57 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:50:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:50:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:50:38 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:50:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:50:38 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:50:38 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:50:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:50:39 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:50:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:50:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:53:22 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 15:53:22 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 15:53:22 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:53:22 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 15:53:22 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:53:23 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 15:53:24 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 15:53:24 [http-nio-5000-exec-4] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 15:53:24 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 15:53:24 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:53:24 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 15:53:24 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:53:24 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:53:24 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 15:53:24 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:53:25 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 15:53:25 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:53:25 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 15:53:25 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:53:33 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 15:53:33 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:53:33 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:53:33 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:53:34 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 15:53:34 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:53:34 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 15:53:34 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:53:42 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 15:53:42 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:53:42 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:53:42 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:53:43 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 15:53:43 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:53:43 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 15:53:43 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:53:50 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 15:53:50 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:53:50 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:53:50 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:53:51 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=3&size=5", parameters={masked}
2025-09-25 15:53:51 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 15:53:51 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 3, size: 5
2025-09-25 15:53:51 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:53:57 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=3, 每页大小=5, 返回数量=1
2025-09-25 15:53:57 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 15:53:57 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 15:53:57 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 15:55:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 15:55:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 15:55:38 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 15:55:38 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 15:55:38 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 15:55:38 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 15:55:39 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 15:55:39 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 15:55:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 15:55:39 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 15:58:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 15:58:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 15:58:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 16:08:40 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 23316 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 16:08:40 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 16:08:40 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 16:08:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 16:08:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 16:08:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 16:08:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 3 JPA repository interfaces.
2025-09-25 16:08:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 16:08:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 16:08:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 16:08:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 16:08:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1056 ms
2025-09-25 16:08:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 16:08:41 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 16:08:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 16:08:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 16:08:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 16:08:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56cf09ef
2025-09-25 16:08:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 16:08:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 16:08:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 16:08:42 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 16:08:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 16:08:42 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 16:08:43 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 16:08:43 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 14086
2025-09-25 16:08:43 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986125679409999615488 wei
2025-09-25 16:08:43 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 16:08:43 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 16:08:43 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 16:08:43 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:08:43 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 16:08:43 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 16:08:43 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 16:08:43 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 16:08:44 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 16:08:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 16:08:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 16:08:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 16:08:44 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 16:08:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 16:08:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 16:08:44 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 4.191 seconds (process running for 4.521)
2025-09-25 16:08:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 16:08:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 16:08:44 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 16:08:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 16:08:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 16:08:44 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:08:45 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 16:08:45 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 16:08:45 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 16:08:45 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 16:09:12 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 16:09:12 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4018a900
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@78a45c15
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 16:09:12 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 16:09:12 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 16:09:12 [http-nio-5000-exec-1] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 16:09:12 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 16:09:12 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:09:14 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 16:09:14 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 16:09:14 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalPages=1, pageSize=20, currentPage=0, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 16:09:14 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:09:14 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:09:14 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:09:14 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:09:14 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 16:09:14 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:09:15 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 16:09:15 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:09:15 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 16:09:15 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:09:21 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 16:09:21 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:09:21 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:09:21 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:09:22 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 16:09:22 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:09:22 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 16:09:22 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:09:28 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 16:09:28 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:09:28 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:09:28 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:09:29 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 16:09:29 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:09:29 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 16:09:29 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:09:35 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 16:09:35 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:09:35 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:09:35 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:13:29 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 16:13:29 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 16:13:29 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:13:29 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 16:13:29 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 16:13:30 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 16:13:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 16:13:30 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 16:13:30 [http-nio-5000-exec-2] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:13:30 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalPages=1, pageSize=20, currentPage=0, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 16:13:30 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:13:30 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:13:30 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 16:13:30 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:13:31 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 16:13:31 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:13:31 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 16:13:31 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:13:38 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 16:13:38 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:13:38 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:13:38 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:13:40 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 16:13:40 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:13:40 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 16:13:40 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:13:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 16:13:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 16:13:44 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 16:13:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 16:13:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 16:13:44 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:13:45 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 16:13:45 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 16:13:45 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 16:13:45 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 16:13:48 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 16:13:48 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:13:48 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:13:48 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:13:50 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 16:13:50 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:13:50 [http-nio-5000-exec-3] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 16:13:50 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:13:57 [http-nio-5000-exec-3] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 16:13:57 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:13:57 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:13:57 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:13:59 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=3&size=5", parameters={masked}
2025-09-25 16:13:59 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:13:59 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 3, size: 5
2025-09-25 16:13:59 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:14:06 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=3, 每页大小=5, 返回数量=1
2025-09-25 16:14:06 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:14:06 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:14:06 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:18:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 16:18:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 16:18:44 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 16:18:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 16:18:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 16:18:44 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:18:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 16:18:44 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 16:18:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 16:18:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 16:23:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 16:23:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 16:23:44 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 16:23:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 16:23:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 16:23:44 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:23:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 16:23:44 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 16:23:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 16:23:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 16:24:45 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 16:24:45 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 16:24:45 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:24:45 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 16:24:45 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 16:24:46 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 16:24:46 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 16:24:46 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 16:24:46 [http-nio-5000-exec-2] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:24:46 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalPages=1, pageSize=20, currentPage=0, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 16:24:46 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:24:47 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:24:47 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 16:24:47 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:24:48 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 16:24:48 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:24:48 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 16:24:48 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:24:54 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 16:24:54 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:24:54 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:24:54 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:28:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 16:28:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 16:28:44 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 16:28:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 16:28:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 16:28:44 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:28:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 16:28:44 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 16:28:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 16:28:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 16:33:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 16:33:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 16:33:44 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 16:33:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 16:33:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 16:33:44 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:33:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 16:33:44 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 16:33:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 16:33:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 16:38:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 16:38:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 16:38:44 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 16:38:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 16:38:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 16:38:44 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:38:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 16:38:44 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 16:38:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 16:38:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 16:38:46 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 16:38:46 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 16:38:46 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:38:46 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 16:38:46 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 16:38:50 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 16:38:50 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 16:38:50 [http-nio-5000-exec-8] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 16:38:50 [http-nio-5000-exec-9] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:38:50 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalPages=1, pageSize=20, currentPage=0, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 16:38:50 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:38:50 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:38:50 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 16:38:50 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:38:52 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 16:38:52 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:38:52 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 16:38:52 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:38:59 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 16:38:59 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:38:59 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:38:59 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:39:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 16:39:14 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:39:14 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 16:39:14 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:39:21 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 16:39:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:39:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:39:21 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:39:23 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=2&size=5", parameters={masked}
2025-09-25 16:39:23 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:39:23 [http-nio-5000-exec-2] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 2, size: 5
2025-09-25 16:39:23 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:39:31 [http-nio-5000-exec-2] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=2, 每页大小=5, 返回数量=5
2025-09-25 16:39:31 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:39:31 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:39:31 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:39:39 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=3&size=5", parameters={masked}
2025-09-25 16:39:39 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:39:39 [http-nio-5000-exec-5] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 3, size: 5
2025-09-25 16:39:39 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:39:46 [http-nio-5000-exec-5] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=3, 每页大小=5, 返回数量=1
2025-09-25 16:39:46 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:39:46 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:39:46 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:39:55 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 16:39:55 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 16:39:55 [http-nio-5000-exec-7] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:39:55 [http-nio-5000-exec-7] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 16:39:55 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalPages=1, pageSize=20, currentPage=0, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 16:39:55 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:39:55 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:39:55 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 16:39:55 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:39:57 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 16:39:57 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 16:39:57 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 16:39:57 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:39:57 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalPages=1, pageSize=20, currentPage=0, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 16:39:57 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:39:58 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:39:58 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 16:39:58 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:39:58 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 16:39:58 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 16:39:58 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 16:39:58 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:40:06 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 16:40:06 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 16:40:06 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 16:40:06 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 16:43:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 16:43:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 16:43:44 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 16:43:44 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 16:43:44 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 16:43:44 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 16:43:45 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 16:43:45 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 16:43:45 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 16:43:45 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 16:48:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 16:48:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-25 16:48:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-25 17:08:06 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 22284 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 17:08:06 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 17:08:06 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 17:08:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 17:08:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 17:08:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 17:08:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 131 ms. Found 3 JPA repository interfaces.
2025-09-25 17:08:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 17:08:10 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 17:08:10 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 17:08:10 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 17:08:10 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3503 ms
2025-09-25 17:08:10 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 17:08:11 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 17:08:11 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 17:08:11 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 17:08:11 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 17:08:11 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56cf09ef
2025-09-25 17:08:11 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 17:08:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 17:08:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 17:08:13 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 17:08:13 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 17:08:14 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 17:08:16 [restartedMain] INFO  c.b.config.BlockchainConfig - Connected to BrokerChain client: null
2025-09-25 17:08:17 [restartedMain] INFO  c.b.config.BlockchainConfig - Current block number: 14324
2025-09-25 17:08:17 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986132681724769600000 wei
2025-09-25 17:08:17 [restartedMain] INFO  c.b.config.BlockchainConfig - Account balance: 8986 ETH
2025-09-25 17:08:17 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 17:08:17 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 17:08:17 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:08:17 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 17:08:17 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 17:08:17 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 17:08:17 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 17:08:17 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 17:08:18 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 17:08:18 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 17:08:18 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 17:08:18 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 17:08:18 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 17:08:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 17:08:18 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 12.842 seconds (process running for 14.096)
2025-09-25 17:08:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 17:08:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 17:08:19 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 17:08:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 17:08:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 17:08:19 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:08:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 17:08:19 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 17:08:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 17:08:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 17:08:28 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 17:08:28 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@395ef464
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@72f4f2eb
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 17:08:28 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 17:08:28 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 17:08:28 [http-nio-5000-exec-1] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 17:08:28 [http-nio-5000-exec-1] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:08:28 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 17:08:29 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:12:35 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 17:12:35 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 17:12:35 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:12:35 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 17:12:35 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:13:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 17:13:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 17:13:18 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 17:13:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 17:13:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 17:13:19 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:13:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 17:13:19 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 17:13:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 17:13:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 17:18:05 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 17:18:05 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 17:18:05 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:18:05 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 17:18:05 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:18:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 17:18:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 17:18:18 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 17:18:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 17:18:18 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 17:18:18 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:18:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 17:18:19 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 17:18:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 17:18:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 17:23:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 17:23:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 17:23:18 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 17:23:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 17:23:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 17:23:19 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:23:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 17:23:19 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 17:23:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 17:23:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 17:26:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 17:26:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 17:26:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:26:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 17:26:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:26:02 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 17:26:02 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 17:26:02 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 17:26:02 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 17:26:02 [http-nio-5000-exec-8] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 17:26:02 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 17:26:02 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 17:26:03 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 17:26:03 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 17:26:03 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 17:26:03 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 17:26:03 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:26:03 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 17:26:03 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:26:03 [http-nio-5000-exec-9] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:26:03 [http-nio-5000-exec-9] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:26:03 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:26:03 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 17:26:03 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:26:04 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 17:26:04 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 17:26:04 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 17:26:04 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:26:12 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=0, 每页大小=5, 返回数量=5
2025-09-25 17:26:12 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:26:12 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 17:26:12 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:26:14 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=1&size=5", parameters={masked}
2025-09-25 17:26:14 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 17:26:14 [http-nio-5000-exec-1] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 1, size: 5
2025-09-25 17:26:14 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:26:22 [http-nio-5000-exec-1] INFO  c.b.service.BlockchainService - NFT分页结果: 总数=16, 页码=1, 每页大小=5, 返回数量=5
2025-09-25 17:26:22 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:26:22 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NftQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, nfts=[NftQueryResult.NftInfo(toke (truncated)...]
2025-09-25 17:26:22 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:28:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 17:28:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 17:28:18 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.lang.IndexOutOfBoundsException: Index: 0
	at java.base/java.util.Collections$EmptyList.get(Collections.java:4807)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:100)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-25 17:28:18 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 17:28:18 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 17:28:18 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:28:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.id=?
2025-09-25 17:28:19 [scheduling-1] DEBUG c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据 - 金牌: 7, 银牌: 2, 铜牌: 2
2025-09-25 17:28:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 1 个用户
2025-09-25 17:28:19 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 17:28:35 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 17:28:35 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 17:28:35 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:28:35 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 17:28:35 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 17:28:45 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 17:28:45 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 17:28:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 17:28:45 [http-nio-5000-exec-4] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:28:45 [http-nio-5000-exec-4] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={totalItems=4, totalPages=1, pageSize=20, currentPage=0}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 17:28:45 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:28:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 17:28:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MedalQueryResult(address=0x8c056ccb92c567da3fee27c23d4f2f107f203879, medals=MedalQueryResult.Medals( (truncated)...]
2025-09-25 17:28:45 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 17:28:46 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/nft/user/0x8c056ccb92c567da3fee27c23d4f2f107f203879?page=0&size=5", parameters={masked}
2025-09-25 17:28:46 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserNfts(String, int, int)
2025-09-25 17:28:46 [http-nio-5000-exec-8] INFO  c.b.controller.BlockchainController - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page: 0, size: 5
2025-09-25 17:28:46 [http-nio-5000-exec-8] INFO  c.b.service.BlockchainService - Querying NFTs for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
