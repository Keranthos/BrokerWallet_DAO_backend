2025-09-25 08:21:59 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Starting BrokerWalletBackendApplication using Java 21.0.8 with PID 23352 (D:\brokerwallet\BrokerWallet-backend\target\classes started by wanweijie in D:\brokerwallet\BrokerWallet-backend)
2025-09-25 08:21:59 [restartedMain] DEBUG c.b.BrokerWalletBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-25 08:21:59 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-25 08:21:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-25 08:21:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-25 08:22:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-25 08:22:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 152 ms. Found 3 JPA repository interfaces.
2025-09-25 08:22:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 5000 (http)
2025-09-25 08:22:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-25 08:22:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-25 08:22:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-25 08:22:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3767 ms
2025-09-25 08:22:03 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-25 08:22:03 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-25 08:22:03 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-25 08:22:04 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-25 08:22:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-25 08:22:04 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13e27d87
2025-09-25 08:22:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-25 08:22:04 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-25 08:22:04 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-25 08:22:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-25 08:22:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-25 08:22:07 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-25 08:22:09 [restartedMain] ERROR c.b.config.BlockchainConfig - Failed to connect to BrokerChain client: Failed to connect to /127.0.0.1:23010
2025-09-25 08:22:09 [restartedMain] INFO  c.b.service.BlockchainService - BlockchainService initialized with medal contract: 0x1a202bfa10ea97a742ad22fcb1a7913821bf1b18
2025-09-25 08:22:09 [restartedMain] INFO  c.b.service.BlockchainService - NFT contract: 0x382ca68b8133893fdf46170efd839c7703d9e9ae
2025-09-25 08:22:09 [restartedMain] INFO  c.b.service.BlockchainService - Account address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:22:09 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating file processor thread pool
2025-09-25 08:22:09 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - File processor thread pool created - Core: 2, Max: 5, Queue: 100
2025-09-25 08:22:09 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - Creating general async thread pool
2025-09-25 08:22:09 [restartedMain] INFO  com.brokerwallet.config.AsyncConfig - General async thread pool created - Core: 5, Max: 10, Queue: 200
2025-09-25 08:22:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-25 08:22:10 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 40 mappings in 'requestMappingHandlerMapping'
2025-09-25 08:22:10 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-25 08:22:10 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-25 08:22:10 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-25 08:22:10 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-25 08:22:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 5000 (http) with context path ''
2025-09-25 08:22:11 [restartedMain] INFO  c.b.BrokerWalletBackendApplication - Started BrokerWalletBackendApplication in 13.03 seconds (process running for 14.519)
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:22:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:22:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:22:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:23:49 [http-nio-5000-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-25 08:23:49 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3a7890fd
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@146a279
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-25 08:23:49 [http-nio-5000-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/health", parameters={}
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.SystemController#healthCheck()
2025-09-25 08:23:49 [http-nio-5000-exec-1] INFO  c.b.controller.SystemController - 系统健康检查: 服务正常运行
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{api_endpoints={proof_list=/api/proof/list, nft_mint=/api/nft/mint, nft_upload=/api/nft/upload, proo (truncated)...]
2025-09-25 08:23:49 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:23:52 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 08:23:52 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 08:23:52 [http-nio-5000-exec-2] INFO  c.b.c.MedalRankingController - 获取勋章排行榜: page=0, size=20
2025-09-25 08:23:52 [http-nio-5000-exec-2] INFO  c.b.service.UserAccountService - 查询勋章排行榜: page=0, size=20
2025-09-25 08:23:53 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    order by
        (((ua1_0.gold_medals*3)+(ua1_0.silver_medals*2))+ua1_0.bronze_medals) desc,
        ua1_0.gold_medals desc,
        ua1_0.silver_medals desc 
    limit
        ?, ?
2025-09-25 08:23:53 [http-nio-5000-exec-2] INFO  c.b.c.MedalRankingController - 排行榜查询成功，返回1条记录
2025-09-25 08:23:53 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:23:53 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 08:23:53 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/medal/query", parameters={}
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/medal/query.]
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 08:23:56 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 08:23:56 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879.]
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 08:24:12 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 08:24:12 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/medals/0x8c056ccb92c567da3fee27c23d4f2f107f203879", parameters={}
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#queryUserMedals(String)
2025-09-25 08:24:16 [http-nio-5000-exec-10] INFO  c.b.controller.BlockchainController - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:24:16 [http-nio-5000-exec-10] INFO  c.b.service.BlockchainService - Querying medals for address: 0x8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:24:16 [http-nio-5000-exec-10] ERROR c.b.controller.BlockchainController - Failed to query medals: Failed to connect to /127.0.0.1:23010
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainService.queryUserMedals(BlockchainService.java:88)
	at com.brokerwallet.controller.BlockchainController.queryUserMedals(BlockchainController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.brokerwallet.controller.BlockchainController$$SpringCGLIB$$0.queryUserMedals(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 79 common frames omitted
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.brokerwallet.controller.BlockchainController$ErrorResponse@8a3028a]
2025-09-25 08:24:16 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/test-contract", parameters={}
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#testContract()
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["合约连接失败: Failed to connect to /127.0.0.1:23010"]
2025-09-25 08:24:20 [http-nio-5000-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:27:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:27:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:27:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:27:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:32:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:32:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:32:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:32:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/blockchain/test-contract", parameters={}
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.BlockchainController#testContract()
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["合约连接失败: Failed to connect to /127.0.0.1:23010"]
2025-09-25 08:35:11 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:37:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:37:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:37:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:37:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:42:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:42:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:42:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:42:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:47:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:47:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:47:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:47:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 08:50:36 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:50:38 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:50:38 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:50:56 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:50:56 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:52:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:52:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:52:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:52:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:52:54 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:52:54 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:54:40 [http-nio-5000-exec-7] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:54:40 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/health", parameters={}
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.SystemController#healthCheck()
2025-09-25 08:54:42 [http-nio-5000-exec-8] INFO  c.b.controller.SystemController - 系统健康检查: 服务正常运行
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{api_endpoints={proof_list=/api/proof/list, nft_mint=/api/nft/mint, nft_upload=/api/nft/upload, proo (truncated)...]
2025-09-25 08:54:42 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/health", parameters={}
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.SystemController#healthCheck()
2025-09-25 08:54:45 [http-nio-5000-exec-9] INFO  c.b.controller.SystemController - 系统健康检查: 服务正常运行
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{api_endpoints={proof_list=/api/proof/list, nft_mint=/api/nft/mint, nft_upload=/api/nft/upload, proo (truncated)...]
2025-09-25 08:54:45 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 08:54:53 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:56:24 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:56:24 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/admin/restore-user6-files", parameters={}
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.AdminController#restoreUser6Files()
2025-09-25 08:57:04 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 尝试恢复用户6的证明文件
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.file_name=? 
    limit
        ?
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.file_name=? 
    limit
        ?
2025-09-25 08:57:04 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        proof_files
        (audit_status, audit_time, file_hash, file_name, file_path, file_size, file_type, medal_award_time, medal_awarded, medal_transaction_hash, original_name, status, upload_time, user_account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-25 08:57:05 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 恢复文件记录: c8f2b013e12942428da9362d3b1c3b0d_1758189455863.jpg
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.file_name=? 
    limit
        ?
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        proof_files
        (audit_status, audit_time, file_hash, file_name, file_path, file_size, file_type, medal_award_time, medal_awarded, medal_transaction_hash, original_name, status, upload_time, user_account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-25 08:57:05 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 恢复文件记录: fee37200f25347649b7a46361e74b51b_1758201127547.jpg
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.file_name=? 
    limit
        ?
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        proof_files
        (audit_status, audit_time, file_hash, file_name, file_path, file_size, file_type, medal_award_time, medal_awarded, medal_transaction_hash, original_name, status, upload_time, user_account_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-25 08:57:05 [http-nio-5000-exec-4] INFO  c.b.controller.AdminController - 恢复文件记录: 783041a98a31457ca6fe279833a15312_1758182975497
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data={restoredFiles=3, userId=6}, success=true, message=恢复了 3 个文件记录}]
2025-09-25 08:57:05 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:57:08 [http-nio-5000-exec-3] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:57:08 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:57:10 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 08:57:10 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 08:57:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 08:57:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 08:57:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 08:57:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 08:57:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 08:57:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 08:57:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:57:11 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 08:57:11 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:58:48 [http-nio-5000-exec-7] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 08:58:48 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 08:59:37 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:38 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:38 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:43 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:43 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:44 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:44 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:45 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:45 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:45 [http-nio-5000-exec-4] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:45 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=0x8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 08:59:47 [http-nio-5000-exec-3] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 0x8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, message=用户不存在}]
2025-09-25 08:59:47 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 09:01:49 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:01:51 [http-nio-5000-exec-9] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:01:51 [http-nio-5000-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:01:59 [http-nio-5000-exec-6] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:01:59 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:02:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:02:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:02:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:02:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:02:21 [http-nio-5000-exec-1] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:02:21 [http-nio-5000-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 09:05:35 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:05:37 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:05:37 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:07:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:07:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:07:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:07:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:10:21 [http-nio-5000-exec-8] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:10:21 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:12:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:12:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:12:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:12:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/admin/delete-fake-submissions", parameters={}
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/admin/delete-fake-submissions.]
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 09:12:16 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 09:12:16 [http-nio-5000-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:12:55 [http-nio-5000-exec-2] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=7}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:12:55 [http-nio-5000-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/admin/delete-fake-submissions", parameters={}
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/admin/delete-fake-submissions.]
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 09:13:01 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 09:13:01 [http-nio-5000-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/admin/delete-proof-files", parameters={}
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/admin/delete-proof-files.]
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 25 09:13:16 CST 2025, status=404, error=Not Found, trace=org.springframework.web. (truncated)...]
2025-09-25 09:13:16 [http-nio-5000-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:13:37 [http-nio-5000-exec-10] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:13:37 [http-nio-5000-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:17:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:17:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:17:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:17:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/medal/ranking", parameters={}
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.MedalRankingController#getMedalRanking(int, int)
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=[{displayName=匿名用户, goldMedals=7, bronzeMedals=2, representativeWork=null, silverMedals=2, tot (truncated)...]
2025-09-25 09:17:29 [http-nio-5000-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/upload/user/submissions?walletAddress=8c056ccb92c567da3fee27c23d4f2f107f203879&page=0&size=20", parameters={masked}
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.brokerwallet.controller.FileUploadController#getUserSubmissions(String, int, int)
2025-09-25 09:17:31 [http-nio-5000-exec-8] INFO  c.b.controller.FileUploadController - 获取用户提交历史: 8c056ccb92c567da3fee27c23d4f2f107f203879, page=0, size=20
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0 
    where
        ua1_0.wallet_address=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.audit_status,
        pf1_0.audit_time,
        pf1_0.file_hash,
        pf1_0.file_name,
        pf1_0.file_path,
        pf1_0.file_size,
        pf1_0.file_type,
        pf1_0.medal_award_time,
        pf1_0.medal_awarded,
        pf1_0.medal_transaction_hash,
        pf1_0.original_name,
        pf1_0.status,
        pf1_0.upload_time,
        pf1_0.user_account_id 
    from
        proof_files pf1_0 
    where
        pf1_0.user_account_id=? 
    order by
        pf1_0.upload_time desc
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG org.hibernate.SQL - 
    select
        ni1_0.id,
        ni1_0.base64_data,
        ni1_0.image_hash,
        ni1_0.image_height,
        ni1_0.image_name,
        ni1_0.image_path,
        ni1_0.image_size,
        ni1_0.image_type,
        ni1_0.image_width,
        ni1_0.mint_status,
        ni1_0.nft_description,
        ni1_0.nft_name,
        ni1_0.original_name,
        ni1_0.proof_file_id,
        ni1_0.status,
        ni1_0.thumbnail_path,
        ni1_0.token_id,
        ni1_0.transaction_hash,
        ni1_0.upload_time,
        ni1_0.user_account_id 
    from
        nft_images ni1_0 
    where
        ni1_0.proof_file_id=?
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{pagination={currentPage=0, pageSize=20, totalPages=1, totalItems=4}, data=[{auditStatusDesc=等待审核, f (truncated)...]
2025-09-25 09:17:31 [http-nio-5000-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 开始同步区块链数据...
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步全局统计...
2025-09-25 09:22:11 [scheduling-1] ERROR c.b.service.BlockchainSyncService - 同步全局统计失败
java.net.ConnectException: Failed to connect to /127.0.0.1:23010
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at org.web3j.protocol.http.HttpService.performIO(HttpService.java:159)
	at org.web3j.protocol.Service.send(Service.java:48)
	at org.web3j.protocol.core.Request.send(Request.java:87)
	at com.brokerwallet.service.BlockchainSyncService.syncGlobalStats(BlockchainSyncService.java:88)
	at com.brokerwallet.service.BlockchainSyncService.syncBlockchainData(BlockchainSyncService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 33 common frames omitted
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 同步用户勋章数据...
2025-09-25 09:22:11 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ua1_0.id,
        ua1_0.admin_approved_display,
        ua1_0.blockchain_bronze_medals,
        ua1_0.blockchain_gold_medals,
        ua1_0.blockchain_silver_medals,
        ua1_0.blockchain_sync_time,
        ua1_0.bronze_medals,
        ua1_0.create_time,
        ua1_0.display_name,
        ua1_0.gold_medals,
        ua1_0.representative_work,
        ua1_0.show_representative_work,
        ua1_0.silver_medals,
        ua1_0.status,
        ua1_0.total_medals,
        ua1_0.total_nfts,
        ua1_0.total_proofs,
        ua1_0.update_time,
        ua1_0.verified_proofs,
        ua1_0.wallet_address 
    from
        user_accounts ua1_0
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainService - Querying medals for address: 8c056ccb92c567da3fee27c23d4f2f107f203879
2025-09-25 09:22:11 [scheduling-1] WARN  c.b.service.BlockchainSyncService - 同步用户 8c056ccb92c567da3fee27c23d4f2f107f203879 的勋章数据失败: Failed to connect to /127.0.0.1:23010
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 用户勋章数据同步完成，共同步 0 个用户
2025-09-25 09:22:11 [scheduling-1] INFO  c.b.service.BlockchainSyncService - 区块链数据同步完成
